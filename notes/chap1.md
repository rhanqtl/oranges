# 第1章 马上动手写一个最小的“操作系统”
## 1.2 十分钟完成的操作系统
编译（NASM）：
```
nasm boot.asm -o boot.bin
```
写入扇区（Linux）：
```
dd if=boot.bin of=[设备名，如/dev/sdb4] bs=512 count=1
```

## 1.3 引导扇区（Boot Sector）
当计算机电源被打开时，它会先进行加电自检（POST），然后寻找启动盘，如果选择从软盘启动，计算机就会检查软盘的0面0磁道1扇区，如果发现它以0xAA55结束，则BIOS认为它是一个引导扇区。

一个正确的引导扇区除了以0xAA55结束外，还应包含一段少于512B的执行码。

一旦BIOS发现引导扇区，就会将这512B装载到内存地址0000:7c00处，然后跳转到0000:7c00将控制权彻底交给这段引导代码。至此，计算机不再由BIOS中固有的程序来控制，而变成由操作系统的一部分来控制。

## 1.4 代码解释
- 在NASM中，任何不被方括号扩起来的标签名或变量名都被认为是地址，访问标签中的内容必须用[]
- 在NASM中，变量和标签是一样的
- `$`表示当前行被汇编后的地址，`$$`表示一个节的开始处被汇编后的地址，`$-$$`表示本行距离程序开始处的相对距离